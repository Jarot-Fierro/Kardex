{% extends 'base.html' %}
{% load static %}

{% block title %}Tutoriales - Sistema de Gesti칩n de Fichas{% endblock %}

{% block content %}
    <div class="container-fluid">
        <!-- Encabezado de la p치gina -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-body text-center">
                        <h1 class="card-title mb-3">游꿉 Centro de Tutoriales</h1>
                        <p class="lead mb-0">
                            Aprende a utilizar todas las funcionalidades del Sistema de Gesti칩n de Fichas M칠dicas
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci칩n de Video Tutoriales -->
        <div class="row mb-5">
            <div class="col-12">
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-video me-2"></i>Video Tutoriales
                        </h3>
                    </div>
                    <div class="card-body">
                        <p class="text-muted mb-4">
                            Aprende paso a paso con nuestros tutoriales en video
                        </p>

                        <div class="row">
                            <!-- Tutorial 1: Pacientes y Fichas -->
                            <div class="col-md-6 mb-4">
                                <div class="card h-100 border-primary">
                                    <div class="card-header bg-primary text-white">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-user-injured me-2"></i>Pacientes y Fichas
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="ratio ratio-16x9 mb-3">
                                            <!-- Aqu칤 ir칤a el video embed real -->
                                            <div class="bg-dark d-flex align-items-center justify-content-center text-white"
                                                 style="height: 100%;">
                                                <div class="text-center">
                                                    <i class="fas fa-play-circle fa-3x mb-3"></i>
                                                    <p>Video Tutorial: Gesti칩n de Pacientes y Fichas</p>
                                                    <small class="text-muted">Duraci칩n: 8:45 min</small>
                                                </div>
                                            </div>
                                            <!--
                                            <iframe src="https://www.youtube.com/embed/TU_ID_VIDEO_1"
                                                    title="Tutorial Pacientes y Fichas"
                                                    frameborder="0"
                                                    allowfullscreen>
                                            </iframe>
                                            -->
                                        </div>

                                        <h6 class="card-subtitle mb-2 text-muted">En este tutorial aprender치s:</h6>
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Crear nuevos pacientes en el sistema
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Generar fichas m칠dicas
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Asociar fichas a pacientes existentes
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Buscar y editar informaci칩n de pacientes
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Manejar el historial de fichas
                                            </li>
                                        </ul>

                                        <div class="mt-3">
                                            <span class="badge bg-info me-2">Nivel: B치sico</span>
                                            <span class="badge bg-warning">Tiempo: 8-10 min</span>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <!-- Tutorial 2: Movimientos de Fichas -->
                            <div class="col-md-6 mb-4">
                                <div class="card h-100 border-success">
                                    <div class="card-header bg-success text-white">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-exchange-alt me-2"></i>Movimientos de Fichas
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="ratio ratio-16x9 mb-3">
                                            <!-- Aqu칤 ir칤a el video embed real -->
                                            <div class="bg-dark d-flex align-items-center justify-content-center text-white"
                                                 style="height: 100%;">
                                                <div class="text-center">
                                                    <i class="fas fa-play-circle fa-3x mb-3"></i>
                                                    <p>Video Tutorial: Movimientos entre Servicios</p>
                                                    <small class="text-muted">Duraci칩n: 10:20 min</small>
                                                </div>
                                            </div>
                                            <!--
                                            <iframe src="https://www.youtube.com/embed/TU_ID_VIDEO_2"
                                                    title="Tutorial Movimientos de Fichas"
                                                    frameborder="0"
                                                    allowfullscreen>
                                            </iframe>
                                            -->
                                        </div>

                                        <h6 class="card-subtitle mb-2 text-muted">En este tutorial aprender치s:</h6>
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Enviar fichas entre servicios cl칤nicos
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Recibir fichas en servicios destino
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Traspasar fichas a otros profesionales
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Seguir el rastro de movimientos
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Generar reportes de movimientos
                                            </li>
                                        </ul>

                                        <div class="mt-3">
                                            <span class="badge bg-info me-2">Nivel: Intermedio</span>
                                            <span class="badge bg-warning">Tiempo: 10-12 min</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci칩n de Tutoriales con Im치genes (CRUD Normales) -->
        <div class="row">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-header bg-secondary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-images me-2"></i>Tutoriales con Im치genes
                        </h3>
                    </div>
                    <div class="card-body">
                        <p class="text-muted mb-4">
                            Gu칤as paso a paso con capturas de pantalla para operaciones CRUD
                        </p>

                        <div class="row">
                            <!-- Comunas -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-map-marker-alt me-2 text-primary"></i>Comunas
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-city fa-3x text-primary mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Comunas</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Aprende a administrar el cat치logo de comunas del sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Crear nuevas comunas
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Editar informaci칩n existente
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-list text-info me-2"></i>
                                                Listar y filtrar comunas
                                            </li>
                                            <li>
                                                <i class="fas fa-trash text-danger me-2"></i>
                                                Eliminar registros (con validaciones)
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-primary btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Establecimientos -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-hospital me-2 text-success"></i>Establecimientos
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-hospital-alt fa-3x text-success mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Establecimientos</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Administra los establecimientos de salud en el sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Agregar nuevos establecimientos
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Modificar datos de establecimientos
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-map-marked-alt text-info me-2"></i>
                                                Asignar ubicaci칩n geogr치fica
                                            </li>
                                            <li>
                                                <i class="fas fa-cogs text-secondary me-2"></i>
                                                Configurar par치metros del establecimiento
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-success btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Servicios Cl칤nicos -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-stethoscope me-2 text-info"></i>Servicios Cl칤nicos
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-clinic-medical fa-3x text-info mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Servicios Cl칤nicos</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Gestiona los diferentes servicios cl칤nicos disponibles.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Crear nuevos servicios cl칤nicos
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Actualizar informaci칩n de servicios
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-users text-info me-2"></i>
                                                Asignar profesionales a servicios
                                            </li>
                                            <li>
                                                <i class="fas fa-exchange-alt text-primary me-2"></i>
                                                Configurar flujos entre servicios
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-info btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Profesiones -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-user-md me-2 text-warning"></i>Profesiones
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-user-graduate fa-3x text-warning mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Profesiones</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Administra el cat치logo de profesiones m칠dicas.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Agregar nuevas profesiones
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Modificar profesiones existentes
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-certificate text-info me-2"></i>
                                                Especificar requisitos y especialidades
                                            </li>
                                            <li>
                                                <i class="fas fa-sitemap text-secondary me-2"></i>
                                                Establecer jerarqu칤as profesionales
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-warning btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Profesionales -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-user-nurse me-2 text-danger"></i>Profesionales
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-user-md fa-3x text-danger mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Profesionales</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Administra el personal m칠dico del sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Registrar nuevos profesionales
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Actualizar datos profesionales
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-id-card text-info me-2"></i>
                                                Gestionar credenciales y permisos
                                            </li>
                                            <li>
                                                <i class="fas fa-calendar-alt text-primary me-2"></i>
                                                Administrar disponibilidad y horarios
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-danger btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Previsi칩n -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-shield-alt me-2 text-purple"></i>Previsi칩n
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-hand-holding-usd fa-3x text-purple mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Previsi칩n</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Administra las entidades previsionales del sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Agregar nuevas entidades previsionales
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Modificar datos de previsi칩n
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-percentage text-info me-2"></i>
                                                Configurar coberturas y porcentajes
                                            </li>
                                            <li>
                                                <i class="fas fa-file-contract text-secondary me-2"></i>
                                                Administrar convenios y acuerdos
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-purple btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Sectores -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-th-large me-2 text-teal"></i>Sectores
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-sitemap fa-3x text-teal mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Sectores</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Organiza la estructura sectorial del sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Crear nuevos sectores
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Modificar estructura sectorial
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-project-diagram text-info me-2"></i>
                                                Establecer jerarqu칤as y dependencias
                                            </li>
                                            <li>
                                                <i class="fas fa-users-cog text-secondary me-2"></i>
                                                Asignar responsables por sector
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-teal btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Reporte -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-headset me-2 text-coral"></i>Reporte
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-life-ring fa-3x text-coral mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Reporte</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Aprende a utilizar el sistema de reporte y asistencia t칠cnica.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li>
                                                <i class="fas fa-file-alt text-secondary me-2"></i>
                                                Descargar Reportes
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-teal btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <script>
        // Script para mejorar la interacci칩n con los tutoriales
        $(document).ready(function () {
            // Efecto hover en las tarjetas de tutoriales
            $('.card').hover(
                function () {
                    $(this).addClass('shadow-lg').css('transform', 'translateY(-5px)');
                    $(this).css('transition', 'all 0.3s ease');
                },
                function () {
                    $(this).removeClass('shadow-lg').css('transform', 'translateY(0)');
                }
            );

            // Contador de visitas a tutoriales (ejemplo)
            $('.btn-outline-primary, .btn-outline-success, .btn-outline-info, .btn-outline-warning, .btn-outline-danger, .btn-outline-purple, .btn-outline-teal').click(function (e) {
                e.preventDefault();
                var tutorialTitle = $(this).closest('.card').find('.card-title').text().trim();

                // Mostrar mensaje de carga
                Swal.fire({
                    title: 'Cargando tutorial...',
                    text: 'Preparando ' + tutorialTitle,
                    icon: 'info',
                    showConfirmButton: false,
                    timer: 1500
                });

                // En un caso real, aqu칤 se cargar칤a el tutorial
                setTimeout(function () {
                    Swal.fire({
                        title: 'Tutorial listo',
                        text: 'El tutorial se abrir치 en una nueva ventana',
                        icon: 'success',
                        confirmButtonText: 'Entendido'
                    });
                }, 1600);
            });

            // Bot칩n para marcar tutorial como completado
            $('.mark-complete').click(function () {
                var tutorial = $(this).closest('.card').find('.card-title').text();

                Swal.fire({
                    title: '쯄arcar como completado?',
                    text: '쮿as completado el tutorial: ' + tutorial + '?',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'S칤, completado',
                    cancelButtonText: 'No, a칰n no'
                }).then((result) => {
                    if (result.isConfirmed) {
                        $(this).html('<i class="fas fa-check me-1"></i> Completado');
                        $(this).removeClass('btn-outline-secondary').addClass('btn-success');

                        Swal.fire(
                            '춰Excelente!',
                            'Has completado este tutorial',
                            'success'
                        );
                    }
                });
            });
        });
    </script>

    <style>
        /* Estilos personalizados para la p치gina de tutoriales */
        .bg-purple {
            background-color: #6f42c1 !important;
        }

        .text-purple {
            color: #6f42c1 !important;
        }

        .btn-outline-purple {
            color: #6f42c1;
            border-color: #6f42c1;
        }

        .btn-outline-purple:hover {
            background-color: #6f42c1;
            color: white;
        }

        .bg-teal {
            background-color: #20c997 !important;
        }

        .text-teal {
            color: #20c997 !important;
        }

        .btn-outline-teal {
            color: #20c997;
            border-color: #20c997;
        }

        .btn-outline-teal:hover {
            background-color: #20c997;
            color: white;
        }

        .card {
            transition: all 0.3s ease;
        }

        .list-group-item {
            border: none;
            padding: 0.5rem 0;
        }

        .ratio-16x9 {
            border-radius: 8px;
            overflow: hidden;
        }

        .card-header h5 {
            font-size: 1.1rem;
        }

        .badge {
            font-size: 0.75rem;
        }

        /* Animaci칩n para los iconos */
        .fa-3x {
            transition: transform 0.3s ease;
        }

        .card:hover .fa-3x {
            transform: scale(1.1);
        }
    </style>
{% endblock %}